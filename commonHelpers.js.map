{"version":3,"file":"commonHelpers.js","sources":["../src/js/task-1.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.loader.style.display = 'none';\nconst options = {\n  key: '42243795-d3e0b32c8a225c14b798958b0',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  q: '',\n};\nfunction formSubmit(e) {\n  e.preventDefault();\n  refs.loader.style.display = 'block';\n  const inputValue = e.target.elements.input.value;\n  options.q = inputValue;\n  getPhotoByName()\n    .then(images => markup(images))\n    .catch(error => console.log(error));\n  e.target.reset();\n}\nfunction markup(images) {\n  if (images.hits.length === 0) {\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      messageColor: '#FFFFFF',\n      backgroundColor: '#EF4040',\n      position: 'topRight',\n      messageSize: '16px',\n      messageLineHeight: '24px',\n      maxWidth: '432px',\n    });\n    refs.gallery.innerHTML = '';\n  } else {\n    const link = images.hits\n      .map(\n        image => `<a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n        <img class=\"gallery-image\"\n        src=\"${image.webformatURL}\"\n        alt=\"${image.tags}\"\n         </a>\n        <div class=\"img-content\">\n        <div>\n        <h3>Likes</h3>\n        <p>${image.likes}</p>\n        </div>\n\n        <div>\n        <h3>Views</h3>\n        <p>${image.views}</p>\n        </div>\n\n        <div>\n        <h3>Comments</h3>\n        <p>${image.comments}</p>\n        </div>\n\n        <div>\n        <h3>Downloads</h3>\n        <p>${image.downloads}</p>\n        </div>\n        </div>\n        `\n      )\n      .join('');\n    refs.gallery.innerHTML = link;\n  }\n  let lightBox = new SimpleLightbox('.gallery-link');\n  lightBox.refresh();\n  refs.loader.style.display = 'none';\n}\nfunction getPhotoByName() {\n  const urlOptions = new URLSearchParams(options);\n  return fetch(`https://pixabay.com/api/?${urlOptions}`).then(res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      throw new Error(res.status);\n    }\n  });\n}\nrefs.form.addEventListener('submit', formSubmit);\n"],"names":["refs","options","formSubmit","e","inputValue","getPhotoByName","images","markup","error","iziToast","link","image","SimpleLightbox","urlOptions","res"],"mappings":"6vBAKA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,OAAO,MAAM,QAAU,OAC5B,MAAMC,EAAU,CACd,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,EAAG,EACL,EACA,SAASC,EAAWC,EAAG,CACrBA,EAAE,eAAc,EAChBH,EAAK,OAAO,MAAM,QAAU,QAC5B,MAAMI,EAAaD,EAAE,OAAO,SAAS,MAAM,MAC3CF,EAAQ,EAAIG,EACZC,EAAgB,EACb,KAAKC,GAAUC,EAAOD,CAAM,CAAC,EAC7B,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACpCL,EAAE,OAAO,OACX,CACA,SAASI,EAAOD,EAAQ,CACtB,GAAIA,EAAO,KAAK,SAAW,EACzBG,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,YAAa,OACb,kBAAmB,OACnB,SAAU,OAChB,CAAK,EACDT,EAAK,QAAQ,UAAY,OACpB,CACL,MAAMU,EAAOJ,EAAO,KACjB,IACCK,GAAS,iCAAiCA,EAAM,aAAa;AAAA;AAAA,eAEtDA,EAAM,YAAY;AAAA,eAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,aAKZA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,aAKXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,aAKXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,aAKdA,EAAM,SAAS;AAAA;AAAA;AAAA,SAIrB,EACA,KAAK,EAAE,EACVX,EAAK,QAAQ,UAAYU,CAC1B,CACc,IAAIE,EAAe,eAAe,EACxC,QAAO,EAChBZ,EAAK,OAAO,MAAM,QAAU,MAC9B,CACA,SAASK,GAAiB,CACxB,MAAMQ,EAAa,IAAI,gBAAgBZ,CAAO,EAC9C,OAAO,MAAM,4BAA4BY,CAAU,EAAE,EAAE,KAAKC,GAAO,CACjE,GAAIA,EAAI,GACN,OAAOA,EAAI,OAEX,MAAM,IAAI,MAAMA,EAAI,MAAM,CAEhC,CAAG,CACH,CACAd,EAAK,KAAK,iBAAiB,SAAUE,CAAU"}